@using Autofac
@using Dao.IRepository
@using Dao.Repository
@using WebWriterV2

@{
    ViewBag.Title = "Count";
    Layout = "~/Views/LayoutMaster.cshtml";

    var userCount = 0;
    var friendCount = 0;
    using (var scope = StaticContainer.Container.BeginLifetimeScope())
    {
        var userRepository = scope.Resolve<IUserRepository>();
        userCount = userRepository.CountUsers();

        var friendIdRepository = scope.Resolve<IFriendIdRepository>();
        friendCount = friendIdRepository.CountFriendId();
    }
}

<p>User count @userCount</p>
<p>Friend count @friendCount</p>
